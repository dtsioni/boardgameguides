= render 'shared/error_messages'
#error_explanation.center
  - flash.each do |name, msg|
    = content_tag :div, msg, class: name
%header.navbar.navbar-fixed-top.navbar-default
  %div.nav
    %div.container
      = link_to "Boardgame guides", root_path, id: "logo"
      -if !signed_in?
        -#not signed in
        %nav
          %ul.nav.navbar-nav.navbar-right
            %li
              = link_to "Home", root_path
            %li
              = link_to "Help", "#"
            %li
              = link_to "Sign in", signin_path
      -else
        -#signed in
        %nav
          %ul.nav.navbar-nav.navbar-right                          
            %li 
              = link_to "Home", root_path
            %li
              = link_to "#{current_user.name}", current_user
            -if can? :index, User
              %li#admin_panel
                =link_to "Admin Control Panel", users_path
            %li.dropdown
              %a.dropdown-toggle{href: "#", "data-toggle" => "dropdown"}
                Create
                %b.caret
              %ul.dropdown-menu      
                %li#add_game
                  = link_to "Game", new_game_path
            %li#fat-menu.dropdown
              %a.dropdown-toggle{href: "#", "data-toggle" => "dropdown"}
                Account
                %b{class: "caret"}
              %ul.dropdown-menu      
                %li
                  = link_to "Settings", '#'
                %li
                  = link_to "My Requests", '#'                
                %li.divider
                %li
                  = link_to "Sign out", signout_path, method: "delete"
                
